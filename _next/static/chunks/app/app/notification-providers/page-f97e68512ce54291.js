(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[595],{285:(e,t,s)=>{"use strict";s.d(t,{$:()=>d,r:()=>l});var a=s(5155);s(2115);var r=s(9708),n=s(2085),i=s(9434);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:s,size:n,asChild:d=!1,...c}=e,o=d?r.DX:"button";return(0,a.jsx)(o,{"data-slot":"button",className:(0,i.cn)(l({variant:s,size:n,className:t})),...c})}},767:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w,dynamic:()=>N});var a=s(5155),r=s(2409),n=s(2115),i=s(5695),l=s(285),d=s(2523),c=s(5057),o=s(6695),h=s(9409),m=s(8883);let x=(0,s(9946).A)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var u=s(5657),g=s(8749),p=s(2657),b=s(4616),f=s(3717),v=s(2525),y=s(1690),j=s(1284),k=s(1530);let N="force-dynamic";function w(){let[e,t]=(0,n.useState)(!1),[s,N]=(0,n.useState)(!1),[w,_]=(0,n.useState)(!1),[A,C]=(0,n.useState)(null),[M,F]=(0,n.useState)(null),[z,q]=(0,n.useState)([]),[I,J]=(0,n.useState)(!1),[L,S]=(0,n.useState)(!1),[T,V]=(0,n.useState)(!1),[D,$]=(0,n.useState)(""),[B,R]=(0,n.useState)(""),[U,H]=(0,n.useState)(""),[E,W]=(0,n.useState)(""),[X,O]=(0,n.useState)(""),[Z,K]=(0,n.useState)(""),[Y,P]=(0,n.useState)(!1),[G,Q]=(0,n.useState)(!1),ee=(0,r.U)(),et=(0,i.useRouter)(),es=[{value:"email",label:"Email",icon:(0,a.jsx)(m.A,{className:"h-4 w-4"})},{value:"discord_webhook",label:"Discord Webhook",icon:(0,a.jsx)(x,{className:"h-4 w-4"})},{value:"telegram_bot",label:"Telegram Bot",icon:(0,a.jsx)(u.A,{className:"h-4 w-4"})}],ea=(0,n.useCallback)(async()=>{try{J(!0);let{data:{user:e}}=await ee.auth.getUser();if(!e)return void et.push("/");let{data:t,error:s}=await ee.from("notification_providers").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});s?(console.error("Lỗi lấy providers:",s),k.Ay.error("Kh\xf4ng thể tải danh s\xe1ch k\xeanh th\xf4ng b\xe1o")):q(t||[])}catch(e){console.error("Lỗi fetch providers:",e),k.Ay.error("Đ\xe3 c\xf3 lỗi xảy ra")}finally{J(!1)}},[ee,et]),er=()=>{$(""),R(""),H(""),W(""),O(""),K(""),P(!1),Q(!1)},en=()=>{er(),t(!1)},ei=e=>{switch(C(e),$(e.type),R(e.name),e.type){case"email":H(e.config.email_address||"");break;case"discord_webhook":W(e.config.webhook_url||"");break;case"telegram_bot":O(e.config.bot_token||""),K(e.config.chat_id||"")}Q(e.is_default||!1),N(!0)},el=()=>{er(),C(null),N(!1)},ed=e=>{F(e),_(!0)},ec=()=>{F(null),_(!1)},eo=async()=>{if(M){V(!0);try{let{error:e}=await ee.from("notification_providers").delete().eq("id",M.id);e?(console.error("Lỗi x\xf3a provider:",e),k.Ay.error("Kh\xf4ng thể x\xf3a k\xeanh th\xf4ng b\xe1o: "+e.message)):(k.Ay.success("Đ\xe3 x\xf3a k\xeanh th\xf4ng b\xe1o th\xe0nh c\xf4ng!"),ec(),ea())}catch(e){console.error("Lỗi x\xf3a provider:",e),k.Ay.error("Đ\xe3 c\xf3 lỗi xảy ra khi x\xf3a k\xeanh th\xf4ng b\xe1o")}finally{V(!1)}}},eh=async e=>{if(e.preventDefault(),!D||!B||!A)return void k.Ay.error("Vui l\xf2ng điền đầy đủ th\xf4ng tin");S(!0);try{let{data:{user:e}}=await ee.auth.getUser();if(!e)return void k.Ay.error("Bạn cần đăng nhập để thực hiện thao t\xe1c n\xe0y");let t={};switch(D){case"email":if(!U)return void k.Ay.error("Vui l\xf2ng nhập địa chỉ email");t={email_address:U};break;case"discord_webhook":if(!E)return void k.Ay.error("Vui l\xf2ng nhập Discord Webhook URL");t={webhook_url:E};break;case"telegram_bot":if(!X||!Z)return void k.Ay.error("Vui l\xf2ng nhập Bot Token v\xe0 Chat ID");t={bot_token:X,chat_id:Z}}G&&await ee.from("notification_providers").update({is_default:!1}).eq("user_id",e.id).neq("id",A.id);let{error:s}=await ee.from("notification_providers").update({type:D,name:B,config:t,is_default:G}).eq("id",A.id);s?(console.error("Lỗi cập nhật provider:",s),k.Ay.error("Kh\xf4ng thể cập nhật k\xeanh th\xf4ng b\xe1o: "+s.message)):(k.Ay.success("Đ\xe3 cập nhật k\xeanh th\xf4ng b\xe1o th\xe0nh c\xf4ng!"),el(),ea())}catch(e){console.error("Lỗi cập nhật provider:",e),k.Ay.error("Đ\xe3 c\xf3 lỗi xảy ra khi cập nhật k\xeanh th\xf4ng b\xe1o")}finally{S(!1)}},em=async e=>{if(e.preventDefault(),!D||!B)return void k.Ay.error("Vui l\xf2ng điền đầy đủ th\xf4ng tin");S(!0);try{let{data:{user:e}}=await ee.auth.getUser();if(!e)return void k.Ay.error("Bạn cần đăng nhập để thực hiện thao t\xe1c n\xe0y");let t={};switch(D){case"email":if(!U)return void k.Ay.error("Vui l\xf2ng nhập địa chỉ email");t={email_address:U};break;case"discord_webhook":if(!E)return void k.Ay.error("Vui l\xf2ng nhập Discord Webhook URL");t={webhook_url:E};break;case"telegram_bot":if(!X||!Z)return void k.Ay.error("Vui l\xf2ng nhập Bot Token v\xe0 Chat ID");t={bot_token:X,chat_id:Z}}G&&await ee.from("notification_providers").update({is_default:!1}).eq("user_id",e.id);let{error:s}=await ee.from("notification_providers").insert({user_id:e.id,type:D,name:B,config:t,is_default:G});s?(console.error("Lỗi tạo provider:",s),k.Ay.error("Kh\xf4ng thể tạo k\xeanh th\xf4ng b\xe1o: "+s.message)):(k.Ay.success("Đ\xe3 th\xeam k\xeanh th\xf4ng b\xe1o th\xe0nh c\xf4ng!"),en(),ea())}catch(e){console.error("Lỗi submit provider:",e),k.Ay.error("Đ\xe3 c\xf3 lỗi xảy ra khi tạo k\xeanh th\xf4ng b\xe1o")}finally{S(!1)}};(0,n.useEffect)(()=>{ea()},[ea]);let ex=(0,n.useMemo)(()=>({renderFormFields:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?"edit":"add";return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"".concat(t,"_name"),children:"T\xean định danh"}),(0,a.jsx)(d.p,{id:"".concat(t,"_name"),type:"text",value:B,onChange:e=>R(e.target.value),placeholder:"VD: Email c\xe1 nh\xe2n, Discord lớp",required:!0,className:"mt-1"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"T\xean để bạn dễ d\xe0ng nhận biết k\xeanh th\xf4ng b\xe1o n\xe0y."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"".concat(t,"_type"),children:"Loại"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2 mt-1",children:es.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>$(e.value),className:"flex items-center justify-center gap-2 p-3 rounded-lg border-2 transition-all duration-200 ".concat(D===e.value?"border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-700 hover:border-red-400 dark:hover:border-red-600"),children:[e.icon,(0,a.jsx)("span",{className:"font-medium ".concat(D===e.value?"text-red-700 dark:text-red-300":"text-gray-700 dark:text-gray-300"),children:e.label})]},e.value))})]}),"email"===D&&(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"".concat(t,"_email"),children:"Địa chỉ Email"}),(0,a.jsx)(d.p,{id:"".concat(t,"_email"),type:"email",value:U,onChange:e=>H(e.target.value),placeholder:"example@email.com",required:!0,className:"mt-1"})]}),"discord_webhook"===D&&(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"".concat(t,"_webhook"),children:"Discord Webhook URL"}),(0,a.jsx)(d.p,{id:"".concat(t,"_webhook"),type:Y?"text":"password",value:E,onChange:e=>W(e.target.value),placeholder:"https://discord.com/api/webhooks/...",required:!0,className:"mt-1"})]}),"telegram_bot"===D&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"".concat(t,"_bot_token"),children:"Bot Token"}),(0,a.jsx)(d.p,{id:"".concat(t,"_bot_token"),type:Y?"text":"password",value:X,onChange:e=>O(e.target.value),placeholder:"123456:ABC-DEF1234...",required:!0,className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"".concat(t,"_chat_id"),children:"Chat ID"}),(0,a.jsx)(d.p,{id:"".concat(t,"_chat_id"),type:"text",value:Z,onChange:e=>K(e.target.value),placeholder:"ID của cuộc tr\xf2 chuyện hoặc k\xeanh",required:!0,className:"mt-1"})]})]}),("discord_webhook"===D||"telegram_bot"===D)&&(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(c.J,{htmlFor:"show-secrets",className:"text-sm",children:Y?"Ẩn th\xf4ng tin nhạy cảm":"Hiện th\xf4ng tin nhạy cảm"}),(0,a.jsx)("button",{type:"button",onClick:()=>P(!Y),className:"p-2 rounded-full hover:bg-muted",children:Y?(0,a.jsx)(g.A,{className:"h-4 w-4"}):(0,a.jsx)(p.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 pt-4 border-t",children:[(0,a.jsx)("input",{type:"checkbox",id:"".concat(t,"_is_default"),checked:G,onChange:e=>Q(e.target.checked),className:"h-4 w-4 rounded border-gray-300 text-red-600 focus:ring-red-500"}),(0,a.jsx)(c.J,{htmlFor:"".concat(t,"_is_default"),className:"text-sm font-medium",children:"Đặt l\xe0m k\xeanh th\xf4ng b\xe1o mặc định"})]})]})}}),[D,B,U,E,X,Z,Y,G]);return((0,n.useMemo)(()=>e?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:en,style:{position:"fixed",top:0,left:0,right:0,bottom:0,margin:0,padding:"1rem"},children:(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg",onClick:e=>e.stopPropagation(),children:(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(b.A,{className:"h-6 w-6 text-blue-600"}),"Th\xeam k\xeanh th\xf4ng b\xe1o"]}),(0,a.jsx)("button",{onClick:en,className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100",children:"✕"})]}),(0,a.jsxs)("form",{onSubmit:em,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{children:"Loại k\xeanh th\xf4ng b\xe1o"}),(0,a.jsx)(h.l6,{value:D,onValueChange:$,placeholder:"Chọn loại k\xeanh...",options:es,className:"mt-1"})]}),ex.renderFormFields(!1),(0,a.jsxs)("div",{className:"flex gap-3 pt-6 border-t",children:[(0,a.jsx)(l.$,{type:"button",variant:"outline",onClick:en,className:"flex-1",disabled:L,children:"Hủy"}),(0,a.jsx)(l.$,{type:"submit",disabled:!D||!B||L,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:L?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Đang th\xeam..."]}):"Th\xeam k\xeanh"})]})]})]})})}):null,[e,D,B,U,E,X,Z,Y,G,L]),(0,n.useMemo)(()=>s&&A?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:el,style:{position:"fixed",top:0,left:0,right:0,bottom:0,margin:0,padding:"1rem"},children:(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg",onClick:e=>e.stopPropagation(),children:(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-6 w-6 text-amber-600"}),"Chỉnh sửa k\xeanh th\xf4ng b\xe1o"]}),(0,a.jsx)("button",{onClick:el,className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100",children:"✕"})]}),(0,a.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-sm text-amber-800",children:[(0,a.jsx)("strong",{children:"Đang chỉnh sửa:"})," ",A.name]})}),(0,a.jsxs)("form",{onSubmit:eh,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{children:"Loại k\xeanh th\xf4ng b\xe1o"}),(0,a.jsx)(h.l6,{value:D,onValueChange:$,placeholder:"Chọn loại k\xeanh...",options:es,className:"mt-1"})]}),ex.renderFormFields(!0),(0,a.jsxs)("div",{className:"flex gap-3 pt-6 border-t",children:[(0,a.jsx)(l.$,{type:"button",variant:"outline",onClick:el,className:"flex-1",disabled:L,children:"Hủy"}),(0,a.jsx)(l.$,{type:"submit",disabled:!D||!B||L,className:"flex-1 bg-amber-600 hover:bg-amber-700",children:L?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Đang cập nhật..."]}):"Cập nhật"})]})]})]})})}):null,[s,A,D,B,U,E,X,Z,Y,G,L]),(0,n.useMemo)(()=>w&&M?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:ec,style:{position:"fixed",top:0,left:0,right:0,bottom:0,margin:0,padding:"1rem"},children:(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",onClick:e=>e.stopPropagation(),children:(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-red-600 flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"h-6 w-6"}),"X\xe1c nhận x\xf3a"]}),(0,a.jsx)("button",{onClick:ec,className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100",children:"✕"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsxs)("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:["email"===M.type&&(0,a.jsx)(m.A,{className:"h-4 w-4 text-red-600"}),"discord_webhook"===M.type&&(0,a.jsx)(x,{className:"h-4 w-4 text-red-600"}),"telegram_bot"===M.type&&(0,a.jsx)(u.A,{className:"h-4 w-4 text-red-600"})]})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium text-red-900",children:M.name}),(0,a.jsxs)("p",{className:"text-sm text-red-700 mt-1",children:["email"===M.type&&"Email","discord_webhook"===M.type&&"Discord Webhook","telegram_bot"===M.type&&"Telegram Bot"]})]})]})}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-gray-700 mb-2",children:"Bạn c\xf3 chắc chắn muốn x\xf3a k\xeanh th\xf4ng b\xe1o n\xe0y kh\xf4ng?"}),(0,a.jsx)("p",{className:"text-sm text-red-600 font-medium",children:"⚠️ H\xe0nh động n\xe0y kh\xf4ng thể ho\xe0n t\xe1c!"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,a.jsx)(l.$,{type:"button",variant:"outline",onClick:ec,className:"flex-1",disabled:T,children:"Hủy"}),(0,a.jsx)(l.$,{type:"button",onClick:eo,disabled:T,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:T?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Đang x\xf3a..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"X\xf3a ngay"]})})]})]})})}):null,[w,M,T]),I)?(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(y.A,{className:"h-8 w-8 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"K\xeanh th\xf4ng b\xe1o"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Đang tải..."})]})]}),(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsx)("div",{className:"h-40 bg-muted rounded-lg"}),(0,a.jsx)("div",{className:"h-20 bg-muted rounded-lg"}),(0,a.jsx)("div",{className:"h-20 bg-muted rounded-lg"})]})]}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(y.A,{className:"h-8 w-8 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"K\xeanh th\xf4ng b\xe1o"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Quản l\xfd c\xe1c k\xeanh nhận lời nhắc của bạn"})]})]}),(0,a.jsxs)(l.$,{onClick:()=>t(!0),children:[(0,a.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"Th\xeam k\xeanh mới"]})]}),(0,a.jsx)("div",{className:"bg-blue-100 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(j.A,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"K\xeanh th\xf4ng b\xe1o l\xe0 g\xec?"}),(0,a.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Đ\xe2y l\xe0 c\xe1c k\xeanh m\xe0 bạn sẽ nhận được lời nhắc, v\xed dụ như Email, Discord, Telegram, v.v. Bạn c\xf3 thể chọn k\xeanh mặc định để tự động th\xeam v\xe0o c\xe1c sự kiện mới."})]})]})}),(0,a.jsx)("div",{children:z.length>0?(0,a.jsx)("div",{className:"space-y-4",children:z.map(e=>{var t,s;return(0,a.jsx)(o.Zp,{className:"bg-card",children:(0,a.jsxs)(o.Wu,{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"p-3 bg-muted rounded-full",children:null==(t=es.find(t=>t.value===e.type))?void 0:t.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-foreground",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:null==(s=es.find(t=>t.value===e.type))?void 0:s.label})]}),e.is_default&&(0,a.jsx)("span",{className:"text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300 px-2 py-1 rounded-full",children:"Mặc định"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(l.$,{variant:"outline",size:"icon",onClick:()=>ei(e),children:(0,a.jsx)(f.A,{className:"h-4 w-4"})}),(0,a.jsx)(l.$,{variant:"destructive",size:"icon",onClick:()=>ed(e),children:(0,a.jsx)(v.A,{className:"h-4 w-4"})})]})]})},e.id)})}):(0,a.jsxs)("div",{className:"text-center py-16 space-y-6",children:[(0,a.jsx)("div",{className:"bg-muted rounded-full w-24 h-24 flex items-center justify-center mx-auto",children:(0,a.jsx)(y.A,{className:"h-12 w-12 text-muted-foreground"})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-foreground",children:"Chưa c\xf3 k\xeanh th\xf4ng b\xe1o n\xe0o"}),(0,a.jsx)("p",{className:"text-muted-foreground max-w-md mx-auto",children:"H\xe3y th\xeam k\xeanh đầu ti\xean để bắt đầu nhận lời nhắc cho c\xe1c sự kiện quan trọng của bạn."})]}),(0,a.jsxs)(l.$,{onClick:()=>t(!0),children:[(0,a.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"Th\xeam k\xeanh đầu ti\xean"]})]})}),(e||s)&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:(0,a.jsx)("div",{className:"bg-card p-6 rounded-lg shadow-xl max-w-lg w-full",children:(0,a.jsxs)("form",{onSubmit:s?eh:em,children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-foreground mb-6",children:s?"Chỉnh sửa k\xeanh th\xf4ng b\xe1o":"Th\xeam k\xeanh th\xf4ng b\xe1o mới"}),ex.renderFormFields(s),(0,a.jsxs)("div",{className:"mt-8 flex justify-end gap-3",children:[(0,a.jsx)(l.$,{type:"button",variant:"ghost",onClick:s?el:en,children:"Hủy"}),(0,a.jsx)(l.$,{type:"submit",disabled:L,children:L?"Đang lưu...":"Lưu"})]})]})})}),w&&M&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:(0,a.jsxs)("div",{className:"bg-card p-6 rounded-lg shadow-xl max-w-sm w-full",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"X\xe1c nhận x\xf3a"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Bạn c\xf3 chắc chắn muốn x\xf3a k\xeanh"," ",(0,a.jsxs)("strong",{children:['"',M.name,'"']}),"?"]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,a.jsx)(l.$,{variant:"ghost",onClick:ec,children:"Hủy"}),(0,a.jsx)(l.$,{variant:"destructive",onClick:eo,disabled:T,children:T?"Đang x\xf3a...":"X\xf3a"})]})]})})]})}},987:(e,t,s)=>{Promise.resolve().then(s.bind(s,767))},1284:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},1690:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("bell-ring",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]])},2409:(e,t,s)=>{"use strict";s.d(t,{U:()=>r});var a=s(3865);function r(){return(0,a.createBrowserClient)("https://aekfivlrnrdzolsiipdf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFla2ZpdmxybnJkem9sc2lpcGRmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAxNDU4NjksImV4cCI6MjA2NTcyMTg2OX0.yIkqGYpn_xqDYlLOAmmsW2zkHLR3mTOTG7lpYHktvyU")}},2523:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var a=s(5155),r=s(2115),n=s(9434);let i=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},2525:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2657:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3717:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},4616:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5057:(e,t,s)=>{"use strict";s.d(t,{J:()=>c});var a=s(5155),r=s(2115),n=s(968),i=s(2085),l=s(9434);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.b,{ref:t,className:(0,l.cn)(d(),s),...r})});c.displayName=n.b.displayName},5657:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},6695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>i});var a=s(5155);s(2115);var r=s(9434);function n(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function i(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...s})}function d(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...s})}function c(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...s})}},8749:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},8883:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},9409:(e,t,s)=>{"use strict";s.d(t,{bq:()=>h,eb:()=>x,gC:()=>m,l6:()=>c,yv:()=>o});var a=s(5155),r=s(2115),n=s(8893),i=s(6474),l=s(5196),d=s(9434);let c=n.bL;n.YJ;let o=n.WT,h=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(n.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...l,children:[r,(0,a.jsx)(n.In,{asChild:!0,children:(0,a.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});h.displayName=n.l9.displayName;let m=r.forwardRef((e,t)=>{let{className:s,children:r,position:i="popper",...l}=e;return(0,a.jsx)(n.ZL,{children:(0,a.jsx)(n.UC,{ref:t,className:(0,d.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...l,children:(0,a.jsx)(n.LM,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r})})})});m.displayName=n.UC.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=n.JU.displayName;let x=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(n.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.VF,{children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})}),(0,a.jsx)(n.p4,{children:r})]})});x.displayName=n.q7.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=n.wv.displayName},9434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var a=s(2596),r=s(9688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[455,865,512,530,563,441,684,358],()=>t(987)),_N_E=e.O()}]);